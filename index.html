<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>To-Do List • Parallax</title>
  <meta name="description" content="Liste de tâches simple avec priorités et effet parallaxe doux. Fonctionne hors ligne et s'installe comme une app.">
  <meta name="theme-color" content="#0ea5e9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.webmanifest?v=2">
  <link rel="icon" href="icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="styles.css?v=2">
</head>
<body>
  <header class="topbar" role="banner">
    <div class="container row between center">
      <h1 class="title" aria-label="To-Do List">To-Do List</h1>
      <!-- Always visible; JS hides it if already installed -->
      <button id="installBtn" class="btn primary" type="button" aria-label="Installer l'application">Installer</button>
    </div>
  </header>

  <!-- Parallax hero -->
  <section class="hero" data-parallax aria-hidden="true">
    <div class="hero-overlay">
      <div class="container">
        <p class="hero-kicker">Productif & léger</p>
        <h2 class="hero-title">Votre liste, partout—même hors ligne</h2>
      </div>
    </div>
  </section>

  <main class="container">
    <!-- Add task form -->
    <form id="addForm" class="card add-form" autocomplete="off">
      <div class="field">
        <label for="todoInput">Nouvelle tâche</label>
        <input id="todoInput" name="todo" type="text" placeholder="Ex. Acheter du lait" required minlength="1" maxlength="200" />
      </div>

      <div class="field">
        <label for="prioritySelect">Priorité</label>
        <select id="prioritySelect" name="priority" aria-label="Choisir la priorité">
          <option value="haute">Haute</option>
          <option value="normale" selected>Normale</option>
          <option value="basse">Basse</option>
        </select>
      </div>

      <div class="actions">
        <button class="btn" type="submit">Ajouter</button>
      </div>
    </form>

    <!-- Toolbar: filters + counter -->
    <div class="toolbar card">
      <div class="filters" role="tablist" aria-label="Filtres de tâches">
        <button class="chip active" role="tab" aria-selected="true" data-filter="toutes" type="button">Toutes</button>
        <button class="chip" role="tab" aria-selected="false" data-filter="actives" type="button">Actives</button>
        <button class="chip" role="tab" aria-selected="false" data-filter="terminees" type="button">Terminées</button>
      </div>
      <p id="todoCount" class="count" aria-live="polite">0 tâche</p>
    </div>

    <!-- List -->
    <ul id="todoList" class="list" aria-label="Liste de tâches"></ul>
  </main>

  <footer class="footer">
    <div class="container">
      <small>Fonctionne hors ligne • Données enregistrées dans ce navigateur</small>
    </div>
  </footer>

  <!-- Install fallback sheet -->
  <div id="installSheet" class="sheet" hidden>
    <div class="sheet-card">
      <h3>Installer l'app</h3>
      <p>Si le bouton système n'apparaît pas :</p>
      <ol>
        <li>Ouvrez le menu du navigateur (⋮).</li>
        <li>Choisissez <strong>Ajouter à l'écran d'accueil</strong>.</li>
        <li>Confirmez <em>Ajouter</em>.</li>
      </ol>
      <p class="muted">Sur iPhone : bouton <em>Partager</em> → <strong>Sur l'écran d'accueil</strong>.</p>
      <button id="closeSheet" class="btn" type="button">Fermer</button>
    </div>
  </div>

  <script src="app.js?v=2" defer></script>
</body>
</html>
